<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parkinson's Disease Monitor - StanceSense</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Authentication Check -->
    <script>
        // Check if user is logged in
        if (!localStorage.getItem('isLoggedIn')) {
            // Redirect to login page if not logged in
            window.location.href = 'login.html';
        }
    </script>
    
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle light/dark mode" title="Switch to light mode (Alt+T)">
        üåô
    </button>
    <!-- Left Sidebar Navigation -->
    <aside class="sidebar-nav">
        <div class="sidebar-header">
            <div class="logo-icon">üìä</div>
            <span class="logo-text">StanceSense</span>
        </div>
        <nav class="sidebar-menu">
            <a href="#" class="menu-item active">
                <span class="menu-icon">üìà</span>
                <span class="menu-text">Dashboard</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">üíä</span>
                <span class="menu-text">Patient Profile</span>
            </a>
            <a href="#" class="menu-item">
                <span class="menu-icon">‚öôÔ∏è</span>
                <span class="menu-text">Settings</span>
            </a>
            <a href="#" class="menu-item menu-item-logout">
                <span class="menu-icon">üö™</span>
                <span class="menu-text">Logout</span>
            </a>
        </nav>
    </aside>

    <div class="container">
        <!-- Header Buttons -->
        <div class="header-buttons">
            <button class="btn-log-dose" aria-label="Log medication dose" title="Log when you take your medication">LOG DOSE</button>
            <button class="btn-log-symptom" aria-label="Log symptoms" title="Record your current symptoms">LOG SYMPTOM</button>
        </div>

        <!-- Main Grid Layout -->
        <div class="dashboard-grid">
            <!-- Left Column - Status Cards -->
            <div class="center-column">
                <!-- Medication Status -->
                <div class="card status-card">
                    <div class="status-icon success">‚úì</div>
                    <div class="status-info">
                        <div class="status-label">Medication Status</div>
                        <div class="status-value">Feeling Good</div>
                    </div>
                </div>

                <!-- Next Medication -->
                <div class="card next-med-card">
                    <div class="status-icon clock">‚è∞</div>
                    <div class="status-info">
                        <div class="status-label">Next Medication</div>
                        <div class="status-value time">Due at 2:00 PM</div>
                    </div>
                </div>

                <!-- Safety Check -->
                <div class="card safety-card">
                    <div class="status-icon check">‚úì</div>
                    <div class="status-info">
                        <div class="status-label">Safety Check</div>
                        <div class="status-value">No Recent Falls</div>
                    </div>
                </div>
                
                <!-- Parkinson's Progression Card moved here -->
                <div class="card bottom-card-integrated">
                    <div class="card-header">
                        <h3>Parkinson's Progression</h3>
                        <span class="badge">STABLE</span>
                    </div>
                    <div class="progression-value">42% <span class="trend">‚Üì 2% vs yesterday</span></div>
                    <div class="progression-label">Tremor: <span class="risk">Balanced</span></div>
                    <div class="circular-progress">
                        <svg viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" class="progress-bg"></circle>
                            <circle cx="50" cy="50" r="45" class="progress-circle" style="stroke-dashoffset: 70"></circle>
                        </svg>
                        <div class="progress-icon">‚ö°</div>
                    </div>
                    <div class="symptom-breakdown">
                        <div class="breakdown-header">Symptom Breakdown</div>
                        <div class="symptom-bar">
                            <div class="symptom-name">Tremor</div>
                            <div class="bar"><div class="bar-fill orange" style="width: 48%"></div></div>
                            <div class="symptom-percent">48%</div>
                        </div>
                        <div class="symptom-bar">
                            <div class="symptom-name">Rigidity</div>
                            <div class="bar"><div class="bar-fill yellow" style="width: 38%"></div></div>
                            <div class="symptom-percent">38%</div>
                        </div>
                        <div class="symptom-bar">
                            <div class="symptom-name">Slowness</div>
                            <div class="bar"><div class="bar-fill blue" style="width: 46%"></div></div>
                            <div class="symptom-percent">46%</div>
                        </div>
                        <div class="symptom-bar">
                            <div class="symptom-name">Gait</div>
                            <div class="bar"><div class="bar-fill purple" style="width: 40%"></div></div>
                            <div class="symptom-percent">40%</div>
                        </div>
                    </div>
                    <div class="last-assessment">Last assessment: 2 days ago<br>Next assessment: In 3 days</div>
                </div>
            </div>

            <!-- Center - Chart -->
            <div class="main-chart">
                <div class="card chart-card">
                    <div class="chart-header">
                        <h3>üìä Your Symptom Trends (Last 24 Hours)</h3>
                    </div>
                    <canvas id="symptomChart"></canvas>
                    <div class="chart-legend">
                        <span class="legend-item"><span class="dot blue"></span> Your Symptoms</span>
                        <span class="legend-item"><span class="dot yellow"></span> Medication Taken</span>
                    </div>
                    <div class="chart-summary">
                        <strong>üìã Summary:</strong> Your symptoms were <strong>stable today</strong>. Peak levels occurred at <strong>6AM</strong> and <strong>4PM</strong>. You're doing well compared to yesterday.
                    </div>
                </div>
                
                <!-- Muscle Rigidity Score moved here -->
                <div class="card">
                    <div class="card-header">
                        <h3>Muscle Rigidity Score</h3>
                        <span class="badge secondary">Primary</span>
                    </div>
                    <div class="severity-value">54% <span class="severity-label">Severity</span></div>
                    <div class="severity-metrics">
                        <div class="metric">
                            <div class="metric-label">Morning</div>
                            <div class="metric-value">3.2 <span class="unit">/ 5</span></div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Afternoon</div>
                            <div class="metric-value">2.1 <span class="unit">/ 5</span></div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Evening</div>
                            <div class="metric-value">2.8 <span class="unit">/ 5</span></div>
                        </div>
                    </div>
                </div>
                
                <!-- My Notes & Symptoms moved here -->
                <div class="card notes-card">
                    <h3>üìã My Notes & Symptoms</h3>
                    <p class="note-text">Your logged symptoms and observations</p>
                    
                    <!-- Example Notes List -->
                    <div class="notes-list">
                        <div class="note-entry">
                            <div class="note-content">Felt very stiff getting out of bed this morning</div>
                            <div class="note-timestamp">‚è∞ Oct 21, 9:00 AM</div>
                        </div>
                        <div class="note-entry">
                            <div class="note-content">Had a good afternoon walk, felt steady</div>
                            <div class="note-timestamp">‚è∞ Oct 20, 3:15 PM</div>
                        </div>
                        <div class="note-entry">
                            <div class="note-content">Tremors more noticeable before dinner</div>
                            <div class="note-timestamp">‚è∞ Oct 20, 5:45 PM</div>
                        </div>
                    </div>
                    
                    <div class="note-input">
                        <textarea id="noteTextarea" placeholder="Type your symptom or observation here..."></textarea>
                        <button class="btn-save-note" id="saveNoteBtn" aria-label="Save note">
                            SAVE NOTE
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar -->
            <div class="right-sidebar">
                <!-- Progress This Week -->
                <div class="card progress-week-card">
                    <div class="progress-week-header">
                        <div class="progress-icon-large">üèÜ</div>
                        <h3>Your Progress This Week</h3>
                    </div>
                    
                    <div class="medication-ontime">
                        <div class="ontime-header">
                            <span class="ontime-icon">üìà</span>
                            <span class="ontime-label">Medication On Time</span>
                        </div>
                        <div class="ontime-percentage">85%</div>
                    </div>
                    
                    <div class="progress-bar-large">
                        <div class="progress-fill-large" style="width: 85%"></div>
                    </div>
                    
                    <div class="progress-message">Great job staying on schedule!</div>
                    
                    <div class="activity-goal-card">
                        <div class="activity-icon">üìÖ</div>
                        <div class="activity-content">
                            <div class="activity-label">Activity Goal Met</div>
                            <div class="activity-days">5 / 7 Days</div>
                        </div>
                    </div>
                    
                    <div class="safety-record-card">
                        <div class="safety-icon">üõ°Ô∏è</div>
                        <div class="safety-content">
                            <div class="safety-label">Safety Record</div>
                            <div class="safety-status">Last Fall: <span class="safety-highlight">30 Days Ago</span></div>
                        </div>
                    </div>
                </div>

                <!-- Today's Doses -->
                <div class="card doses-card">
                    <div class="doses-header">Today's Doses</div>
                    <div class="dose-item taken">
                        <div class="dose-time">8:00 AM</div>
                        <div class="dose-name">Morning Dose</div>
                        <span class="dose-status">Taken</span>
                    </div>
                    <div class="dose-item">
                        <div class="dose-time">2:00 PM</div>
                        <div class="dose-name">Afternoon Dose</div>
                    </div>
                    <div class="dose-item">
                        <div class="dose-time">8:00 PM</div>
                        <div class="dose-name">Evening Dose</div>
                    </div>
                </div>

                <!-- Hardware Status -->
                <div class="card hardware-card">
                    <div class="hardware-header">Hardware Status</div>
                    <div class="hardware-item online">
                        <div class="hardware-icon">üì±</div>
                        <div class="hardware-info">
                            <div class="hardware-name">Wrist Unit</div>
                            <div class="hardware-status">Tremor/Fall Detection</div>
                        </div>
                        <div class="hardware-details">
                            <span class="hardware-badge online">Online</span>
                            <span class="hardware-percent">87%</span>
                        </div>
                    </div>
                    <div class="hardware-item online">
                        <div class="hardware-icon">üìç</div>
                        <div class="hardware-info">
                            <div class="hardware-name">Arm Patch</div>
                            <div class="hardware-status">Rigidity Monitoring</div>
                        </div>
                        <div class="hardware-details">
                            <span class="hardware-badge online">Online</span>
                            <span class="hardware-percent">92%</span>
                        </div>
                    </div>
                </div>
                
                <!-- Daily Fall Events moved here -->
                <div class="card">
                    <div class="card-header">
                        <h3>Daily Fall Events</h3>
                        <span class="badge warning">‚ö†Ô∏è 3 this week</span>
                    </div>
                    <canvas id="fallChart"></canvas>
                    <div class="alert-box">
                        <span class="alert-icon">‚ö†Ô∏è</span>
                        <span class="alert-text">Moderate Risk: Consider post-dosing supervision</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Notes Section removed from here -->
    </div>

    <script src="dist/script.js"></script>
</body>
</html>
